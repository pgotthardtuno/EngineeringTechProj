(()=>{var e={};e.id=522,e.ids=[522],e.modules={9:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\paulr\\\\WebstormProjects\\\\EngineeringTechProj\\\\BudgetApp\\\\app\\\\expenses\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\paulr\\WebstormProjects\\EngineeringTechProj\\BudgetApp\\app\\expenses\\page.tsx","default")},243:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(687),n=r(3210);let a=[{id:1,name:"Food"},{id:2,name:"Entertainment"},{id:3,name:"Bills"},{id:4,name:"Transportation"},{id:5,name:"Other"}],i=({onExpenseAdded:e})=>{let[t,r]=(0,n.useState)(""),[i,l]=(0,n.useState)(new Date),[o,d]=(0,n.useState)(0),[c,u]=(0,n.useState)(a[0].name),h=async s=>{s.preventDefault(),await fetch("/api/expenses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:0,description:t,date:i,cost:o,category:c})}),await e(),r(""),l(new Date),d(0),u(a[0].name)};return(0,s.jsxs)("form",{onSubmit:h,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),(0,s.jsx)("input",{type:"text",id:"description",value:t,onChange:e=>r(e.target.value),className:"form-input"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date"}),(0,s.jsx)("input",{type:"date",id:"date",value:i.toISOString().split("T")[0],onChange:e=>l(new Date(e.target.value)),className:"form-input",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"cost",className:"form-label",children:"Cost"}),(0,s.jsx)("input",{type:"text",id:"cost",value:o,onChange:e=>{let t=e.target.value;isNaN(Number(t))&&""!==t||d(""===t?0:Number(t))},className:"form-input",required:!0,pattern:"^\\d*(\\.\\d+)?$"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),(0,s.jsx)("select",{id:"category",value:c,onChange:e=>u(e.target.value),className:"form-select",required:!0,children:a.map(e=>(0,s.jsx)("option",{value:e.name,children:e.name},e.name))})]}),(0,s.jsx)("button",{type:"submit",className:"form-button",children:"Add Expense"})]})},l=({expenseAdded:e,expenseDeleted:t,onExpenseDeleted:r,onExpenseAdded:a,selectedMonth:i})=>{let[l,o]=(0,n.useState)([]),d=["January","February","March","April","May","June","July","August","September","October","November","December"];(0,n.useEffect)(()=>{(async()=>{let e=await fetch("/api/expenses");o((await e.json()).filter(e=>d[new Date(e.date).getMonth()]===i))})()},[e,t,i]);let c=async e=>{await fetch(`/api/expenses?id=${e}`,{method:"DELETE"}),r()};return(0,s.jsxs)("table",{className:"expense-table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("th",{children:"Cost"}),(0,s.jsx)("th",{children:"Delete"})]})}),(0,s.jsx)("tbody",{children:l.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,s.jsx)("td",{children:e.description}),(0,s.jsx)("td",{children:e.category}),(0,s.jsxs)("td",{children:["$",e.cost.toFixed(2)]}),(0,s.jsx)("td",{children:(0,s.jsx)("button",{onClick:()=>c(e.id),children:"Delete"})})]},e.id))})]})},o=({selectedMonth:e})=>{let[t,r]=(0,n.useState)([]),[a,i]=(0,n.useState)({}),[l,o]=(0,n.useState)({}),d=["January","February","March","April","May","June","July","August","September","October","November","December"];(0,n.useEffect)(()=>{(async()=>{let e=await fetch("/api/expenses");r(await e.json())})()},[]),(0,n.useEffect)(()=>{let e={},r={};t.forEach(t=>{let s=d[new Date(t.date).getMonth()];e[s]||(e[s]={},r[s]=0),e[s][t.category]||(e[s][t.category]=0),e[s][t.category]+=t.cost,r[s]+=t.cost}),i(e),o(r)},[t]);let c=t=>{let r=l[t]||0,n=a[t]||{};return(0,s.jsxs)("div",{className:"monthly-breakdown",children:[(0,s.jsx)("h4",{className:"monthly-breakdown-header",children:t}),(0,s.jsx)("ul",{children:Object.entries(n).map(([n,a])=>(0,s.jsxs)("li",{children:[n,": ",r>0&&t===e?(a/r*100).toFixed(2):"0.00","%"]},n))})]},t)};return(0,s.jsxs)("div",{className:"category-breakdowns",children:[(0,s.jsx)("h3",{className:"category-breakdowns-header",children:"Monthly Category Breakdowns"}),(0,s.jsx)("div",{className:"monthly-breakdowns-container",children:d.map(e=>c(e))})]})},d=({expenses:e,selectedMonth:t})=>{let[r,i]=(0,n.useState)({}),[l,o]=(0,n.useState)({}),d=["January","February","March","April","May","June","July","August","September","October","November","December"];(0,n.useEffect)(()=>{let e=localStorage.getItem("budgets");e&&i(JSON.parse(e))},[]),(0,n.useEffect)(()=>{localStorage.setItem("budgets",JSON.stringify(r))},[r]),(0,n.useEffect)(()=>{let r={};e.forEach(e=>{d[new Date(e.date).getMonth()]===t&&(r[e.category]||(r[e.category]=0),r[e.category]+=e.cost)}),o(r)},[e,t]);let c=(e,r)=>{let s=Number(r.target.value);i(r=>({...r,[t]:{...r[t],[e]:s}}))};return(0,s.jsxs)("div",{className:"budget-tracker",children:[(0,s.jsx)("h3",{className:"budget-tracker-header",children:"Monthly Budget"}),a.map(e=>(0,s.jsxs)("div",{className:"budget-item",children:[(0,s.jsx)("label",{htmlFor:e.name,className:"budget-label",children:e.name}),(0,s.jsx)("input",{type:"number",id:e.name,className:"budget-input",value:r[t]?.[e.name]||"",onChange:t=>c(e.name,t)}),(0,s.jsxs)("p",{className:"budget-used",children:["Used: $",l[e.name]?.toFixed(2)||"0.00"]}),r[t]?.[e.name]&&(0,s.jsx)("p",{className:`budget-status ${l[e.name]>r[t][e.name]?"over-budget":"under-budget"}`,children:l[e.name]>r[t][e.name]?"Over Budget":"Under Budget"})]},e.name))]})},c=()=>{let[e,t]=(0,n.useState)(0),[r,a]=(0,n.useState)(0),[c,u]=(0,n.useState)([]),h=["January","February","March","April","May","June","July","August","September","October","November","December"],[m,p]=(0,n.useState)(h[new Date().getMonth()]),x=()=>{t(e=>e+1)};return(0,n.useEffect)(()=>{(async()=>{let e=await fetch("/api/expenses");u(await e.json())})()},[]),(0,s.jsxs)("div",{className:"expenses-page",children:[(0,s.jsx)("div",{className:"category-container",children:(0,s.jsx)(o,{selectedMonth:m})}),(0,s.jsxs)("div",{className:"main-content",children:[(0,s.jsx)("h1",{className:"header",children:"Expenses"}),(0,s.jsx)("div",{className:"form-container",children:(0,s.jsx)(i,{onExpenseAdded:x})}),(0,s.jsx)("div",{className:"table-container",children:(0,s.jsx)(l,{expenseAdded:e,expenseDeleted:r,onExpenseDeleted:()=>{a(e=>e+1)},onExpenseAdded:x,selectedMonth:m})})]}),(0,s.jsxs)("div",{className:"budget-container",children:[(0,s.jsxs)("div",{className:"month-select-container",children:[(0,s.jsx)("label",{htmlFor:"month-select",children:"Select Month:"}),(0,s.jsx)("select",{id:"month-select",value:m,onChange:e=>{p(e.target.value)},className:"month-select",children:h.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsx)(d,{expenses:c,selectedMonth:m})]})]})}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1207:()=>{},1471:()=>{},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4197:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},6292:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(5239),n=r(8088),a=r(8170),i=r.n(a),l=r(893),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["expenses",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9)),"C:\\Users\\paulr\\WebstormProjects\\EngineeringTechProj\\BudgetApp\\app\\expenses\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"C:\\Users\\paulr\\WebstormProjects\\EngineeringTechProj\\BudgetApp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\paulr\\WebstormProjects\\EngineeringTechProj\\BudgetApp\\app\\expenses\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/expenses/page",pathname:"/expenses",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7349:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},7781:(e,t,r)=>{Promise.resolve().then(r.bind(r,9))},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a,metadata:()=>n});var s=r(7413);r(2704);let n={title:"Budget Tracker",description:"Generated by create next app"};function a({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{children:e})})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9637:(e,t,r)=>{Promise.resolve().then(r.bind(r,243))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,825],()=>r(6292));module.exports=s})();